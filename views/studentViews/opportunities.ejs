<% 
const corporateImages = [
  "https://images.unsplash.com/photo-1521790361543-f645cf042ec4?w=800&q=80",
  "https://images.unsplash.com/photo-1504384308090-c894fdcc538d?w=800&q=80",
  "https://images.unsplash.com/photo-1551434678-e076c223a692?w=800&q=80",
  "https://images.unsplash.com/photo-1557804506-669a67965ba0?w=800&q=80",
  "https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=800&q=80",
  "https://images.unsplash.com/photo-1504386106331-3e4e71712b38?w=800&q=80",
  "https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=800&q=80",
  "https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=800&q=80",
  "https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=800&q=80"
]; 
%>

<div class="container my-5 d-flex flex-column align-items-center">
  <% for (let posting of opportunities) { 
       const index = Math.floor(Math.random() * corporateImages.length); 
       const imageUrl = corporateImages[index];
  %>
    <div class="card mb-4" style="max-width: 600px; width: 100%;">
      <div class="row g-0">
        <div class="col-md-4">
          <img src="<%= imageUrl %>" class="img-fluid h-100 rounded-start" style="object-fit: cover;" alt="Company Image">
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <h5 class="card-title"><%= posting.title || 'Untitled Posting' %></h5>
            <p class="card-text mb-1">
              <i class="bi bi-building me-1"></i> 
              <%= posting.userId?.name || 'Unknown Company' %>, 
              <%= posting.postingType || 'Internship' %>
            </p>
            <p class="card-text mb-1">
              <i class="bi bi-geo-alt-fill text-danger me-1"></i> 
              <%= posting.location || 'Location not specified' %>
            </p>
            <p class="card-text text-truncate" style="max-height: 4.5em;">
              <%= posting.description || 'No description provided.' %>
            </p>
            <a href="/api/student/<%= student._id %>/opportunities/<%= posting._id %>" class="btn btn-primary mt-2">
              View Details
            </a>
          </div>
        </div>
      </div>
    </div>
  <% } %>
</div>
